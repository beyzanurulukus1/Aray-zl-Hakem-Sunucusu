{"ast":null,"code":"var _jsxFileName = \"/Users/beyza/Desktop/koustech/Client/src/map/mapView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Circle, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png'\n});\nconst DEFAULT_CENTER = [41.51, 36.12];\nconst SERVER_BASE_URL = 'http://localhost:5000/api';\nconst MapView = () => {\n  _s();\n  const [uavPositions, setUAVPositions] = useState([]);\n  const [qrPosition, setQrPosition] = useState(null);\n  const [hssZones, setHssZones] = useState([]);\n  const [center, setCenter] = useState(DEFAULT_CENTER);\n\n  // BaÅŸlangÄ±Ã§ta Statik KonumlarÄ± (QR ve HSS) Ã‡ekme\n  useEffect(() => {\n    // QR KoordinatÄ±nÄ± Ã‡ekme (GET /api/qr_koordinati)\n    fetch(`${SERVER_BASE_URL}/qr_koordinati`).then(res => res.json()).then(data => {\n      if (data.qrEnlem && data.qrBoylam) {\n        const pos = [data.qrEnlem, data.qrBoylam];\n        setQrPosition(pos);\n        setCenter(pos);\n      }\n    }).catch(error => console.error(\"QR Ã§ekilemedi:\", error));\n\n    // HSS KoordinatlarÄ±nÄ± Ã‡ekme (GET /api/hss_koordinatlari)\n    fetch(`${SERVER_BASE_URL}/hss_koordinatlari`).then(res => res.json()).then(data => {\n      if (data && data.hss_koordinat_bilgileri) {\n        setHssZones(data.hss_koordinat_bilgileri);\n      }\n    }).catch(error => console.error(\"HSS Ã§ekilemedi:\", error));\n  }, []);\n\n  // CanlÄ± Telemetri GÃ¼ncellemesi (SimÃ¼lasyon)\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const dummyPositions = [{\n        takim_numarasi: 1,\n        iha_enlem: center[0] + Math.random() * 0.005,\n        iha_boylam: center[1] + Math.random() * 0.005,\n        iha_irtifa: 50\n      }, {\n        takim_numarasi: 2,\n        iha_enlem: center[0] - Math.random() * 0.003,\n        iha_boylam: center[1] - Math.random() * 0.003,\n        iha_irtifa: 45\n      }];\n      setUAVPositions(dummyPositions);\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [center]);\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    center: center,\n    zoom: 15,\n    style: {\n      height: '100%',\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), uavPositions.map(uav => /*#__PURE__*/_jsxDEV(Marker, {\n      position: [uav.iha_enlem, uav.iha_boylam],\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: [\"\\u0130HA \", uav.takim_numarasi, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 50\n        }, this), \"\\u0130rtifa: \", uav.iha_irtifa, \"m\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)\n    }, uav.takim_numarasi, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this)), qrPosition && /*#__PURE__*/_jsxDEV(Marker, {\n      position: qrPosition,\n      icon: L.divIcon({\n        className: 'qr-icon',\n        html: '<div style=\"font-size: 24px;\">ðŸŽ¯</div>'\n      }),\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: \"QR Kodu Hedefi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }, this), hssZones.map(hss => /*#__PURE__*/_jsxDEV(Circle, {\n      center: [hss.hssEnlem, hss.hssBoylam],\n      radius: hss.hssYaricap,\n      pathOptions: {\n        color: 'red',\n        fillColor: '#f03',\n        fillOpacity: 0.3\n      },\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: [\"HSS \", hss.id, \" - Yasak B\\xF6lge (Yar\\u0131\\xE7ap: \", hss.hssYaricap, \"m)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }, this)\n    }, hss.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n_s(MapView, \"oJZS9jSQbvkCO2n72JyfJdsYgAY=\");\n_c = MapView;\nexport default MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Circle","Popup","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","DEFAULT_CENTER","SERVER_BASE_URL","MapView","_s","uavPositions","setUAVPositions","qrPosition","setQrPosition","hssZones","setHssZones","center","setCenter","fetch","then","res","json","data","qrEnlem","qrBoylam","pos","catch","error","console","hss_koordinat_bilgileri","interval","setInterval","dummyPositions","takim_numarasi","iha_enlem","Math","random","iha_boylam","iha_irtifa","clearInterval","zoom","style","height","width","children","url","attribution","fileName","_jsxFileName","lineNumber","columnNumber","map","uav","position","icon","divIcon","className","html","hss","hssEnlem","hssBoylam","radius","hssYaricap","pathOptions","color","fillColor","fillOpacity","id","_c","$RefreshReg$"],"sources":["/Users/beyza/Desktop/koustech/Client/src/map/mapView.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Circle, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css'; \n\nimport L from 'leaflet';\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n    iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n    shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',\n});\n\nconst DEFAULT_CENTER = [41.51, 36.12]; \nconst SERVER_BASE_URL = 'http://localhost:5000/api';\n\nconst MapView = () => {\n    const [uavPositions, setUAVPositions] = useState([]); \n    const [qrPosition, setQrPosition] = useState(null); \n    const [hssZones, setHssZones] = useState([]); \n    const [center, setCenter] = useState(DEFAULT_CENTER);\n\n    // BaÅŸlangÄ±Ã§ta Statik KonumlarÄ± (QR ve HSS) Ã‡ekme\n    useEffect(() => {\n        // QR KoordinatÄ±nÄ± Ã‡ekme (GET /api/qr_koordinati)\n        fetch(`${SERVER_BASE_URL}/qr_koordinati`)\n            .then(res => res.json())\n            .then(data => {\n                if (data.qrEnlem && data.qrBoylam) {\n                    const pos = [data.qrEnlem, data.qrBoylam];\n                    setQrPosition(pos);\n                    setCenter(pos); \n                }\n            })\n            .catch(error => console.error(\"QR Ã§ekilemedi:\", error));\n\n        // HSS KoordinatlarÄ±nÄ± Ã‡ekme (GET /api/hss_koordinatlari)\n        fetch(`${SERVER_BASE_URL}/hss_koordinatlari`)\n            .then(res => res.json())\n            .then(data => {\n                if (data && data.hss_koordinat_bilgileri) {\n                    setHssZones(data.hss_koordinat_bilgileri);\n                }\n            })\n            .catch(error => console.error(\"HSS Ã§ekilemedi:\", error));\n    }, []);\n\n    // CanlÄ± Telemetri GÃ¼ncellemesi (SimÃ¼lasyon)\n    useEffect(() => {\n        const interval = setInterval(() => {\n            const dummyPositions = [\n                { takim_numarasi: 1, iha_enlem: center[0] + (Math.random() * 0.005), iha_boylam: center[1] + (Math.random() * 0.005), iha_irtifa: 50 },\n                { takim_numarasi: 2, iha_enlem: center[0] - (Math.random() * 0.003), iha_boylam: center[1] - (Math.random() * 0.003), iha_irtifa: 45 },\n            ];\n            setUAVPositions(dummyPositions);\n        }, 1000); \n\n        return () => clearInterval(interval);\n    }, [center]);\n\n    return (\n        <MapContainer center={center} zoom={15} style={{ height: '100%', width: '100%' }}>\n            <TileLayer\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            />\n\n            {/* Ä°HA KonumlarÄ± */}\n            {uavPositions.map(uav => (\n                <Marker key={uav.takim_numarasi} position={[uav.iha_enlem, uav.iha_boylam]}>\n                    <Popup>\n                        Ä°HA {uav.takim_numarasi} <br/>\n                        Ä°rtifa: {uav.iha_irtifa}m\n                    </Popup>\n                </Marker>\n            ))}\n\n            {/* QR Kod Konumu (Hedef) */}\n            {qrPosition && (\n                <Marker position={qrPosition} icon={L.divIcon({className: 'qr-icon', html: '<div style=\"font-size: 24px;\">ðŸŽ¯</div>'})}>\n                    <Popup>QR Kodu Hedefi</Popup>\n                </Marker>\n            )}\n\n            {/* HSS Yasak BÃ¶lgeleri (Ã‡emberler) */}\n            {hssZones.map(hss => (\n                <Circle \n                    key={hss.id} \n                    center={[hss.hssEnlem, hss.hssBoylam]} \n                    radius={hss.hssYaricap} \n                    pathOptions={{ color: 'red', fillColor: '#f03', fillOpacity: 0.3 }}\n                >\n                    <Popup>HSS {hss.id} - Yasak BÃ¶lge (YarÄ±Ã§ap: {hss.hssYaricap}m)</Popup>\n                </Circle>\n            ))}\n        </MapContainer>\n    );\n};\n\nexport default MapView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}